(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{3284:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t(212),n=t(108),o=t(3327);function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c=s(i),a=s(o);function u(e,r,t,i){return new(t||(t=Promise))((function(n,o){function s(e){try{a(i.next(e))}catch(r){o(r)}}function c(e){try{a(i.throw(e))}catch(r){o(r)}}function a(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(s,c)}a((i=i.apply(e,r||[])).next())}))}var l,d={exports:{}},h="object"===typeof Reflect?Reflect:null,v=h&&"function"===typeof h.apply?h.apply:function(e,r,t){return Function.prototype.apply.call(e,r,t)};l=h&&"function"===typeof h.ownKeys?h.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var f=Number.isNaN||function(e){return e!==e};function p(){p.init.call(this)}d.exports=p,d.exports.once=function(e,r){return new Promise((function(t,i){function n(t){e.removeListener(r,o),i(t)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",n),t([].slice.call(arguments))}F(e,r,o,{once:!0}),"error"!==r&&function(e,r,t){"function"===typeof e.on&&F(e,"error",r,t)}(e,n,{once:!0})}))},p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var y=10;function m(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function C(e){return void 0===e._maxListeners?p.defaultMaxListeners:e._maxListeners}function D(e,r,t,i){var n,o,s;if(m(t),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",r,t.listener?t.listener:t),o=e._events),s=o[r]),void 0===s)s=o[r]=t,++e._eventsCount;else if("function"===typeof s?s=o[r]=i?[t,s]:[s,t]:i?s.unshift(t):s.push(t),(n=C(e))>0&&s.length>n&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=r,c.count=s.length,console&&console.warn}return e}function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(e,r,t){var i={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},n=_.bind(i);return n.listener=t,i.wrapFn=n,n}function w(e,r,t){var i=e._events;if(void 0===i)return[];var n=i[r];return void 0===n?[]:"function"===typeof n?t?[n.listener||n]:[n]:t?function(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}(n):S(n,n.length)}function E(e){var r=this._events;if(void 0!==r){var t=r[e];if("function"===typeof t)return 1;if(void 0!==t)return t.length}return 0}function S(e,r){for(var t=new Array(r),i=0;i<r;++i)t[i]=e[i];return t}function F(e,r,t,i){if("function"===typeof e.on)i.once?e.once(r,t):e.on(r,t);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(r,(function n(o){i.once&&e.removeEventListener(r,n),t(o)}))}}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(e){if("number"!==typeof e||e<0||f(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");y=e}}),p.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||f(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},p.prototype.getMaxListeners=function(){return C(this)},p.prototype.emit=function(e){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=n[e];if(void 0===c)return!1;if("function"===typeof c)v(c,this,r);else{var a=c.length,u=S(c,a);for(t=0;t<a;++t)v(u[t],this,r)}return!0},p.prototype.addListener=function(e,r){return D(this,e,r,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(e,r){return D(this,e,r,!0)},p.prototype.once=function(e,r){return m(r),this.on(e,g(this,e,r)),this},p.prototype.prependOnceListener=function(e,r){return m(r),this.prependListener(e,g(this,e,r)),this},p.prototype.removeListener=function(e,r){var t,i,n,o,s;if(m(r),void 0===(i=this._events))return this;if(void 0===(t=i[e]))return this;if(t===r||t.listener===r)0===--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,t.listener||r));else if("function"!==typeof t){for(n=-1,o=t.length-1;o>=0;o--)if(t[o]===r||t[o].listener===r){s=t[o].listener,n=o;break}if(n<0)return this;0===n?t.shift():function(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}(t,n),1===t.length&&(i[e]=t[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||r)}return this},p.prototype.off=p.prototype.removeListener,p.prototype.removeAllListeners=function(e){var r,t,i;if(void 0===(t=this._events))return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==t[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete t[e]),this;if(0===arguments.length){var n,o=Object.keys(t);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(r=t[e]))this.removeListener(e,r);else if(void 0!==r)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this},p.prototype.listeners=function(e){return w(this,e,!0)},p.prototype.rawListeners=function(e){return w(this,e,!1)},p.listenerCount=function(e,r){return"function"===typeof e.listenerCount?e.listenerCount(r):E.call(e,r)},p.prototype.listenerCount=E,p.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};const I=new d.exports,R=i.initLog("@onekey/hd-ble-sdk");let U,b=i.parseConnectSettings(),P=0;const k={};function O(e){const{event:r}=e;if(U)switch(R.debug("hd-ble-sdk handleMessage",e),r){case i.UI_EVENT:I.emit(e.event,e),I.emit(e.type,e.payload);break;default:R.log("No need to be captured message",e.event)}}function L(e,r=!0){return u(this,void 0,void 0,(function*(){if(!U)throw n.ERRORS.TypedError("postMessage: _core not found");if(r){P++,k[P]=n.createDeferred();return yield U.handleMessage(Object.assign(Object.assign({},e),{id:""+P}))}U.handleMessage(e)}))}const M=c.default({eventEmitter:I,init:e=>u(void 0,void 0,void 0,(function*(){b=Object.assign(Object.assign(Object.assign({},b),e),{env:"react-native"}),i.enableLog(!!e.debug),R.debug("init");try{return U=yield i.initCore(b,a.default),null===U||void 0===U||U.on(i.CORE_EVENT,O),!0}catch(r){return R.error(i.createErrorMessage(r)),!1}})),call:e=>u(void 0,void 0,void 0,(function*(){var r,t;R.debug("call: ",e);try{const o=yield L({event:i.IFRAME.CALL,type:i.IFRAME.CALL,payload:e});return o?(R.debug("response: ",o),o.success||((null===(r=o.payload)||void 0===r?void 0:r.code)===n.HardwareErrorCode.BlePermissionError&&L(i.createUiMessage(i.UI_REQUEST.BLUETOOTH_PERMISSION),!1),(null===(t=o.payload)||void 0===t?void 0:t.code)===n.HardwareErrorCode.BleLocationError&&L(i.createUiMessage(i.UI_REQUEST.LOCATION_PERMISSION),!1)),o):i.createErrorMessage(n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNotResponse))}catch(o){return R.error("__call error: ",o),i.createErrorMessage(o)}})),cancel:e=>{void 0!==U&&U.handleMessage({event:i.IFRAME.CANCEL,type:i.IFRAME.CANCEL,payload:{connectId:e}})},dispose:()=>{I.removeAllListeners(),b=i.parseConnectSettings()},uiResponse:e=>{if(!U)throw n.ERRORS.TypedError(n.HardwareErrorCode.NotInitialized);const{type:r,payload:t}=e;U.handleMessage({event:i.UI_EVENT,type:r,payload:t})}});r.default=M,r.messagePromises=k},3327:function(e,r,t){"use strict";var i=t(56),n=t(34),o=t(3328),s=t(2082),c=t(2081),a=t(108),u=t(1467);function l(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var d=l(s),h=l(c),v=l(u);function f(e,r,t,i){return new(t||(t=Promise))((function(n,o){function s(e){try{a(i.next(e))}catch(r){o(r)}}function c(e){try{a(i.throw(e))}catch(r){o(r)}}function a(e){var r;e.done?n(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(s,c)}a((i=i.apply(e,r||[])).next())}))}const p={timeout:(e,r)=>{const t=setTimeout(e,r);return()=>clearTimeout(t)}},y=(e,r=1e3)=>new Promise((t,i)=>{let n=!1;const o=e.onStateChange(e=>{if("PoweredOn"===e){if(n)return;s(),n=!0,o.remove(),t()}},!0),s=p.timeout(()=>{n||(o.remove(),i(a.ERRORS.TypedError(a.HardwareErrorCode.BlePermissionError)))},r)}),m={classic:{"00000001-0000-1000-8000-00805f9b34fb":{serviceUuid:"00000001-0000-1000-8000-00805f9b34fb",writeUuid:"00000002-0000-1000-8000-00805f9b34fb",notifyUuid:"00000003-0000-1000-8000-00805f9b34fb"}}},C=[];for(const U of Object.keys(m)){const e=m[U];C.push(...Object.keys(e))}const D=()=>C,_=(e,r)=>{const t=m[r];if(!t)return null;const i=t[e];return i||null};class g{constructor(e,r,t){this.mtuSize=20,this.id=e.id,this.device=e,this.writeCharacteristic=r,this.notifyCharacteristic=t}}const{check:w,buildBuffers:E,receiveOne:S,parseConfigure:F}=h.default,I={};let R={requestMTU:512,timeout:3e3};e.exports=class{constructor(e){var r;this.configured=!1,this.stopped=!1,this.scanTimeout=3e3,this.runPromise=null,this.scanTimeout=null!==(r=e.scanTimeout)&&void 0!==r?r:3e3}init(){}configure(e){const r=F(e);this.configured=!0,this._messages=r}listen(){}getPlxManager(){return this.blePlxManager||(this.blePlxManager=new o.BleManager,v.default.start({showAlert:!1})),Promise.resolve(this.blePlxManager)}enumerate(){return f(this,void 0,void 0,(function*(){return new Promise((e,r)=>f(this,void 0,void 0,(function*(){const t=[],i=yield this.getPlxManager();try{yield y(i)}catch(c){return void r(c)}var n;i.startDeviceScan(null,{scanMode:o.ScanMode.LowLatency},(e,t)=>{var i,n;if(e)[o.BleErrorCode.BluetoothPoweredOff,o.BleErrorCode.BluetoothInUnknownState].includes(e.errorCode)?r(a.ERRORS.TypedError(a.HardwareErrorCode.BlePermissionError)):e.errorCode===o.BleErrorCode.BluetoothUnauthorized?r(a.ERRORS.TypedError(a.HardwareErrorCode.BleLocationError)):r(a.ERRORS.TypedError(a.HardwareErrorCode.BleScanError,null!==(i=e.reason)&&void 0!==i?i:""));else if(((e,r)=>{var t;if(null===(t=null===r||void 0===r?void 0:r.startsWith)||void 0===t?void 0:t.call(r,"MI"))return!0;return!(!e||!/(BixinKey\d{10})|(K\d{4})|(T\d{4})/i.exec(e))})(null!==(n=null===t||void 0===t?void 0:t.name)&&void 0!==n?n:null,null===t||void 0===t?void 0:t.id)){const{name:e,localName:r,id:i}=null!==t&&void 0!==t?t:{};s(t)}}),(n=D(),f(void 0,void 0,void 0,(function*(){return(yield v.default.getConnectedPeripherals(n)).map(e=>{const{id:r,name:t,advertising:i={}}=e;return Object.assign({id:r,name:t},i)})}))).then(e=>{for(const r of e)s(r)});const s=e=>{t.every(r=>r.id!==e.id)&&t.push(e)};p.timeout(()=>{i.stopDeviceScan(),e(t)},this.scanTimeout)})))}))}acquire(e){var r,t;return f(this,void 0,void 0,(function*(){const{uuid:n}=e;if(!n)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleRequiredUUID);let s=null;I[n]&&(yield this.release(n));const c=yield this.getPlxManager();try{yield y(c)}catch(S){throw S}if(!s){const e=yield c.devices([n]);[s]=e}if(!s){const e=(yield c.connectedDevices(D())).filter(e=>e.id===n);[s]=e}if(!s)try{s=yield c.connectToDevice(n,R)}catch(F){if(F.errorCode!==o.BleErrorCode.DeviceMTUChangeFailed&&F.errorCode!==o.BleErrorCode.OperationCancelled)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleConnectedError,null!==(r=F.reason)&&void 0!==r?r:F);R={},s=yield c.connectToDevice(n)}if(!s)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleConnectedError,"unable to connect to device");if(!(yield s.isConnected()))try{yield s.connect(R)}catch(F){if(F.errorCode!==o.BleErrorCode.DeviceMTUChangeFailed&&F.errorCode!==o.BleErrorCode.OperationCancelled)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleConnectedError,null!==(t=F.reason)&&void 0!==t?t:F);R={},yield s.connect()}if("android"===i.Platform.OS){if(!!!(yield f(void 0,void 0,void 0,(function*(){return(yield v.default.getBondedPeripherals()).map(e=>{const{id:r,name:t,advertising:i={}}=e;return Object.assign({id:r,name:t},i)})}))).find(e=>e.id===(null===s||void 0===s?void 0:s.id)))throw a.ERRORS.TypedError("device is not bonded")}yield s.discoverAllServicesAndCharacteristics();let u,l=(e=>{if(!e||!e.serviceUUIDs)return null;const[r]=e.serviceUUIDs,t=_(r,"classic");return t||null})(s);if(!l)for(const e of D())try{u=yield s.characteristicsForService(e),l=_(e,"classic");break}catch(F){}if(!l)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleServiceNotFound);const{serviceUuid:d,writeUuid:h,notifyUuid:p}=l;if(u||(u=yield s.characteristicsForService(d)),!u)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleCharacteristicNotFound);let m,C;for(const e of u)e.uuid===h?m=e:e.uuid===p&&(C=e);if(!m)throw a.ERRORS.TypedError("BLECharacteristicNotFound: write characteristic not found");if(!C)throw a.ERRORS.TypedError("BLECharacteristicNotFound: notify characteristic not found");if(!m.isWritableWithResponse)throw a.ERRORS.TypedError("BLECharacteristicNotWritable: write characteristic not writable");if(!C.isNotifiable)throw a.ERRORS.TypedError("BLECharacteristicNotNotifiable: notify characteristic not notifiable");const w=new g(s,m,C);w.nofitySubscription=this._monitorCharacteristic(w.notifyCharacteristic),I[n]=w;const E=s.onDisconnected(()=>{this.release(n),null===E||void 0===E||E.remove()});return{uuid:n}}))}_monitorCharacteristic(e){let r=0,t=[];const i=e.monitor((e,i)=>{var o,s,u;if(e)this.runPromise&&this.runPromise.reject(a.ERRORS.TypedError(a.HardwareErrorCode.BleCharacteristicNotifyError,null!==(o=e.reason)&&void 0!==o?o:e.message));else{if(!i)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleMonitorError);try{const e=n.Buffer.from(i.value,"base64");if((e=>{if(e.length<9)return!1;const[r,t,i]=e;return String.fromCharCode(r)===String.fromCharCode(c.MESSAGE_TOP_CHAR)&&String.fromCharCode(t)===String.fromCharCode(c.MESSAGE_HEADER_BYTE)&&String.fromCharCode(i)===String.fromCharCode(c.MESSAGE_HEADER_BYTE)})(e)?(r=e.readInt32BE(5),t=[...e.subarray(3)]):t=t.concat([...e]),t.length-c.COMMON_HEADER_SIZE>=r){const e=n.Buffer.from(t);r=0,t=[],null===(s=this.runPromise)||void 0===s||s.resolve(e.toString("hex"))}}catch(e){null===(u=this.runPromise)||void 0===u||u.reject(e)}}});return()=>{i.remove()}}release(e){var r,t;return f(this,void 0,void 0,(function*(){const n=I[e];return n&&(delete I[e],null===(r=n.nofitySubscription)||void 0===r||r.call(n),"android"===i.Platform.OS&&(yield null===(t=this.blePlxManager)||void 0===t?void 0:t.cancelDeviceConnection(e))),Promise.resolve(!0)}))}call(e,r,t){return f(this,void 0,void 0,(function*(){if(this.stopped)return Promise.reject(a.ERRORS.TypedError("Transport stopped."));if(null==this._messages)throw a.ERRORS.TypedError(a.HardwareErrorCode.TransportNotConfigured);if(this.runPromise)throw a.ERRORS.TypedError(a.HardwareErrorCode.TransportCallInProgress);const n=I[e];if(!n)throw a.ERRORS.TypedError(a.HardwareErrorCode.TransportNotFound);this.runPromise=a.createDeferred();const s=this._messages,c=E(s,r,t);if("FirmwareUpload"===r){const e="ios"===i.Platform.OS?128:192;let r=0,t=d.default.allocate(e);for(;r<c.length;){const i=c[r].toBuffer();if(t.append(i),r+=1,t.offset===e||r>=c.length){t.reset();try{yield n.writeCharacteristic.writeWithoutResponse(t.toString("base64")),t=d.default.allocate(e)}catch(u){return void(this.runPromise=null)}}}}else for(const e of c){const r=e.toString("base64");try{yield n.writeCharacteristic.writeWithoutResponse(r)}catch(u){if(u.errorCode===o.BleErrorCode.DeviceDisconnected)throw a.ERRORS.TypedError(a.HardwareErrorCode.BleDeviceNotBonded);return void(this.runPromise=null)}}try{const e=yield this.runPromise.promise;if("string"!==typeof e)throw new Error("Returning data is not string.");const r=S(s,e);return w.call(r)}catch(u){return u}finally{this.runPromise=null}}))}stop(){this.stopped=!0}cancel(){this.runPromise,this.runPromise=null}}},3328:function(e,r,t){"use strict";t.r(r),t.d(r,"BleError",(function(){return m})),t.d(r,"BleErrorCode",(function(){return D})),t.d(r,"BleAndroidErrorCode",(function(){return E})),t.d(r,"BleIOSErrorCode",(function(){return w})),t.d(r,"BleATTErrorCode",(function(){return g})),t.d(r,"BleManager",(function(){return H})),t.d(r,"Device",(function(){return T})),t.d(r,"Service",(function(){return B})),t.d(r,"Characteristic",(function(){return N})),t.d(r,"Descriptor",(function(){return x})),t.d(r,"fullUUID",(function(){return p})),t.d(r,"State",(function(){return O})),t.d(r,"LogLevel",(function(){return L})),t.d(r,"ConnectionPriority",(function(){return M})),t.d(r,"ScanCallbackType",(function(){return k})),t.d(r,"ScanMode",(function(){return P}));var i,n=t(3),o=t.n(n),s=t(7),c=t.n(s),a=t(10),u=t.n(a),l=t(14),d=t.n(l),h=t(8),v=t.n(h),f=t(418);function p(e){return 4===e.length?"0000"+e.toLowerCase()+"-0000-1000-8000-00805f9b34fb":8===e.length?e.toLowerCase()+"-0000-1000-8000-00805f9b34fb":e.toLowerCase()}function y(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=v()(e);if(r){var n=v()(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return d()(this,t)}}var m=function(e){u()(t,e);var r=y(t);function t(e,i){var n,o;if(c()(this,t),(n=r.call(this)).message=i[D.UnknownError],"string"===typeof e)n.errorCode=D.UnknownError,n.attErrorCode=null,n.iosErrorCode=null,n.androidErrorCode=null,n.reason=e;else{var s=i[e.errorCode];s&&(n.message=(o=e,s.replace(/\{([^}]+)\}/g,(function(e,r){return o[r]||"?"})))),n.errorCode=e.errorCode,n.attErrorCode=e.attErrorCode,n.iosErrorCode=e.iosErrorCode,n.androidErrorCode=e.androidErrorCode,n.reason=e.reason}return n.name="BleError",n}return t}(t.n(f)()(Error));function C(e,r){var t,i=r||_;try{var n=JSON.parse(e);t=new m(n,i)}catch(o){t=new m(e,i)}return t}var D={UnknownError:0,BluetoothManagerDestroyed:1,OperationCancelled:2,OperationTimedOut:3,OperationStartFailed:4,InvalidIdentifiers:5,BluetoothUnsupported:100,BluetoothUnauthorized:101,BluetoothPoweredOff:102,BluetoothInUnknownState:103,BluetoothResetting:104,BluetoothStateChangeFailed:105,DeviceConnectionFailed:200,DeviceDisconnected:201,DeviceRSSIReadFailed:202,DeviceAlreadyConnected:203,DeviceNotFound:204,DeviceNotConnected:205,DeviceMTUChangeFailed:206,ServicesDiscoveryFailed:300,IncludedServicesDiscoveryFailed:301,ServiceNotFound:302,ServicesNotDiscovered:303,CharacteristicsDiscoveryFailed:400,CharacteristicWriteFailed:401,CharacteristicReadFailed:402,CharacteristicNotifyChangeFailed:403,CharacteristicNotFound:404,CharacteristicsNotDiscovered:405,CharacteristicInvalidDataFormat:406,DescriptorsDiscoveryFailed:500,DescriptorWriteFailed:501,DescriptorReadFailed:502,DescriptorNotFound:503,DescriptorsNotDiscovered:504,DescriptorInvalidDataFormat:505,DescriptorWriteNotAllowed:506,ScanStartFailed:600,LocationServicesDisabled:601},_=(i={},o()(i,D.UnknownError,"Unknown error occurred. This is probably a bug! Check reason property."),o()(i,D.BluetoothManagerDestroyed,"BleManager was destroyed"),o()(i,D.OperationCancelled,"Operation was cancelled"),o()(i,D.OperationTimedOut,"Operation timed out"),o()(i,D.OperationStartFailed,"Operation was rejected"),o()(i,D.InvalidIdentifiers,"Invalid UUIDs or IDs were passed: {internalMessage}"),o()(i,D.BluetoothUnsupported,"BluetoothLE is unsupported on this device"),o()(i,D.BluetoothUnauthorized,"Device is not authorized to use BluetoothLE"),o()(i,D.BluetoothPoweredOff,"BluetoothLE is powered off"),o()(i,D.BluetoothInUnknownState,"BluetoothLE is in unknown state"),o()(i,D.BluetoothResetting,"BluetoothLE is resetting"),o()(i,D.BluetoothStateChangeFailed,"Bluetooth state change failed"),o()(i,D.DeviceConnectionFailed,"Device {deviceID} connection failed"),o()(i,D.DeviceDisconnected,"Device {deviceID} was disconnected"),o()(i,D.DeviceRSSIReadFailed,"RSSI read failed for device {deviceID}"),o()(i,D.DeviceAlreadyConnected,"Device {deviceID} is already connected"),o()(i,D.DeviceNotFound,"Device {deviceID} not found"),o()(i,D.DeviceNotConnected,"Device {deviceID} is not connected"),o()(i,D.DeviceMTUChangeFailed,"Device {deviceID} could not change MTU size"),o()(i,D.ServicesDiscoveryFailed,"Services discovery failed for device {deviceID}"),o()(i,D.IncludedServicesDiscoveryFailed,"Included services discovery failed for device {deviceID} and service: {serviceUUID}"),o()(i,D.ServiceNotFound,"Service {serviceUUID} for device {deviceID} not found"),o()(i,D.ServicesNotDiscovered,"Services not discovered for device {deviceID}"),o()(i,D.CharacteristicsDiscoveryFailed,"Characteristic discovery failed for device {deviceID} and service {serviceUUID}"),o()(i,D.CharacteristicWriteFailed,"Characteristic {characteristicUUID} write failed for device {deviceID} and service {serviceUUID}"),o()(i,D.CharacteristicReadFailed,"Characteristic {characteristicUUID} read failed for device {deviceID} and service {serviceUUID}"),o()(i,D.CharacteristicNotifyChangeFailed,"Characteristic {characteristicUUID} notify change failed for device {deviceID} and service {serviceUUID}"),o()(i,D.CharacteristicNotFound,"Characteristic {characteristicUUID} not found"),o()(i,D.CharacteristicsNotDiscovered,"Characteristics not discovered for device {deviceID} and service {serviceUUID}"),o()(i,D.CharacteristicInvalidDataFormat,"Cannot write to characteristic {characteristicUUID} with invalid data format: {internalMessage}"),o()(i,D.DescriptorsDiscoveryFailed,"Descriptor {descriptorUUID} discovery failed for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,D.DescriptorWriteFailed,"Descriptor {descriptorUUID} write failed for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,D.DescriptorReadFailed,"Descriptor {descriptorUUID} read failed for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,D.DescriptorNotFound,"Descriptor {descriptorUUID} not found"),o()(i,D.DescriptorsNotDiscovered,"Descriptors not discovered for device {deviceID}, service {serviceUUID} and characteristic {characteristicUUID}"),o()(i,D.DescriptorInvalidDataFormat,"Cannot write to descriptor {descriptorUUID} with invalid data format: {internalMessage}"),o()(i,D.DescriptorWriteNotAllowed,"Cannot write to descriptor {descriptorUUID}. It's not allowed by iOS and therefore forbidden on Android as well."),o()(i,D.ScanStartFailed,"Cannot start scanning operation"),o()(i,D.LocationServicesDisabled,"Location services are disabled"),i),g={Success:0,InvalidHandle:1,ReadNotPermitted:2,WriteNotPermitted:3,InvalidPdu:4,InsufficientAuthentication:5,RequestNotSupported:6,InvalidOffset:7,InsufficientAuthorization:8,PrepareQueueFull:9,AttributeNotFound:10,AttributeNotLong:11,InsufficientEncryptionKeySize:12,InvalidAttributeValueLength:13,UnlikelyError:14,InsufficientEncryption:15,UnsupportedGroupType:16,InsufficientResources:17},w={Unknown:0,InvalidParameters:1,InvalidHandle:2,NotConnected:3,OutOfSpace:4,OperationCancelled:5,ConnectionTimeout:6,PeripheralDisconnected:7,UuidNotAllowed:8,AlreadyAdvertising:9,ConnectionFailed:10,ConnectionLimitReached:11,UnknownDevice:12},E={NoResources:128,InternalError:129,WrongState:130,DbFull:131,Busy:132,Error:133,CmdStarted:134,IllegalParameter:135,Pending:136,AuthFail:137,More:138,InvalidCfg:139,ServiceStarted:140,EncrypedNoMitm:141,NotEncrypted:142,Congested:143},S=t(6),F=t.n(S),I=t(5),R=t.n(I),U=t(9),b=t.n(U),P={Opportunistic:-1,LowPower:0,Balanced:1,LowLatency:2},k={AllMatches:1,FirstMatch:2,MatchLost:4},O={Unknown:"Unknown",Resetting:"Resetting",Unsupported:"Unsupported",Unauthorized:"Unauthorized",PoweredOff:"PoweredOff",PoweredOn:"PoweredOn"},L={None:"None",Verbose:"Verbose",Debug:"Debug",Info:"Info",Warning:"Warning",Error:"Error"},M={Balanced:0,High:1,LowPower:2},T=function(){function e(r,t){c()(this,e),Object.assign(this,r,{_manager:t})}return b()(e,[{key:"requestConnectionPriority",value:function(e,r){return this._manager.requestConnectionPriorityForDevice(this.id,e,r)}},{key:"readRSSI",value:function(e){return this._manager.readRSSIForDevice(this.id,e)}},{key:"requestMTU",value:function(e,r){return this._manager.requestMTUForDevice(this.id,e,r)}},{key:"connect",value:function(e){return this._manager.connectToDevice(this.id,e)}},{key:"cancelConnection",value:function(){return this._manager.cancelDeviceConnection(this.id)}},{key:"isConnected",value:function(){return this._manager.isDeviceConnected(this.id)}},{key:"onDisconnected",value:function(e){return this._manager.onDeviceDisconnected(this.id,e)}},{key:"discoverAllServicesAndCharacteristics",value:function(e){return this._manager.discoverAllServicesAndCharacteristicsForDevice(this.id,e)}},{key:"services",value:function(){return this._manager.servicesForDevice(this.id)}},{key:"characteristicsForService",value:function(e){return this._manager.characteristicsForDevice(this.id,e)}},{key:"descriptorsForService",value:function(e,r){return this._manager.descriptorsForDevice(this.id,e,r)}},{key:"readCharacteristicForService",value:function(e,r,t){return this._manager.readCharacteristicForDevice(this.id,e,r,t)}},{key:"writeCharacteristicWithResponseForService",value:function(e,r,t,i){return this._manager.writeCharacteristicWithResponseForDevice(this.id,e,r,t,i)}},{key:"writeCharacteristicWithoutResponseForService",value:function(e,r,t,i){return this._manager.writeCharacteristicWithoutResponseForDevice(this.id,e,r,t,i)}},{key:"monitorCharacteristicForService",value:function(e,r,t,i){return this._manager.monitorCharacteristicForDevice(this.id,e,r,t,i)}},{key:"readDescriptorForService",value:function(){var e=R()((function*(e,r,t,i){return this._manager.readDescriptorForDevice(this.id,e,r,t,i)}));return function(r,t,i,n){return e.apply(this,arguments)}}()},{key:"writeDescriptorForService",value:function(){var e=R()((function*(e,r,t,i,n){return this._manager.writeDescriptorForDevice(this.id,e,r,t,i,n)}));return function(r,t,i,n,o){return e.apply(this,arguments)}}()}]),e}(),B=function(){function e(r,t){c()(this,e),Object.assign(this,r,{_manager:t})}return b()(e,[{key:"characteristics",value:function(){return this._manager._characteristicsForService(this.id)}},{key:"descriptorsForCharacteristic",value:function(e){return this._manager._descriptorsForService(this.id,e)}},{key:"readCharacteristic",value:function(e,r){return this._manager._readCharacteristicForService(this.id,e,r)}},{key:"writeCharacteristicWithResponse",value:function(e,r,t){return this._manager._writeCharacteristicWithResponseForService(this.id,e,r,t)}},{key:"writeCharacteristicWithoutResponse",value:function(e,r,t){return this._manager._writeCharacteristicWithoutResponseForService(this.id,e,r,t)}},{key:"monitorCharacteristic",value:function(e,r,t){return this._manager._monitorCharacteristicForService(this.id,e,r,t)}},{key:"readDescriptorForCharacteristic",value:function(){var e=R()((function*(e,r,t){return this._manager._readDescriptorForService(this.id,e,r,t)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"writeDescriptorForCharacteristic",value:function(){var e=R()((function*(e,r,t,i){return this._manager._writeDescriptorForService(this.id,e,r,t,i)}));return function(r,t,i,n){return e.apply(this,arguments)}}()}]),e}(),x=function(){function e(r,t){c()(this,e),Object.assign(this,r,{_manager:t})}return b()(e,[{key:"read",value:function(){var e=R()((function*(e){return this._manager._readDescriptor(this.id,e)}));return function(r){return e.apply(this,arguments)}}()},{key:"write",value:function(){var e=R()((function*(e,r){return this._manager._writeDescriptor(this.id,e,r)}));return function(r,t){return e.apply(this,arguments)}}()}]),e}(),N=function(){function e(r,t){c()(this,e),Object.assign(this,r,{_manager:t})}return b()(e,[{key:"descriptors",value:function(){return this._manager._descriptorsForCharacteristic(this.id)}},{key:"read",value:function(e){return this._manager._readCharacteristic(this.id,e)}},{key:"writeWithResponse",value:function(e,r){return this._manager._writeCharacteristicWithResponse(this.id,e,r)}},{key:"writeWithoutResponse",value:function(e,r){return this._manager._writeCharacteristicWithoutResponse(this.id,e,r)}},{key:"monitor",value:function(e,r){return this._manager._monitorCharacteristic(this.id,e,r)}},{key:"readDescriptor",value:function(){var e=R()((function*(e,r){return this._manager._readDescriptorForCharacteristic(this.id,e,r)}));return function(r,t){return e.apply(this,arguments)}}()},{key:"writeDescriptor",value:function(){var e=R()((function*(e,r,t){return this._manager._writeDescriptorForCharacteristic(this.id,e,r,t)}));return function(r,t,i){return e.apply(this,arguments)}}()}]),e}(),A=t(202),q=t(318),W=A.a.BleClientManager,j=q.a,H=function(){function e(){var r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c()(this,e),this._eventEmitter=new j(W),this._uniqueId=0,this._activePromises={},this._activeSubscriptions={};var i=t.restoreStateFunction;null!=i&&null!=t.restoreStateIdentifier&&(this._activeSubscriptions[this._nextUniqueID()]=this._eventEmitter.addListener(W.RestoreStateEvent,(function(e){i(null!=e?{connectedPeripherals:e.connectedPeripherals.map((function(e){return new T(e,r)}))}:null)}))),this._errorCodesToMessagesMapping=t.errorCodesToMessagesMapping?t.errorCodesToMessagesMapping:_,W.createClient(t.restoreStateIdentifier||null)}return b()(e,[{key:"_destroyPromises",value:function(){var e=new m({errorCode:D.BluetoothManagerDestroyed,attErrorCode:null,iosErrorCode:null,androidErrorCode:null,reason:null},this._errorCodesToMessagesMapping);for(var r in this._activePromises)this._activePromises[r](e)}},{key:"_destroySubscriptions",value:function(){for(var e in this._activeSubscriptions)this._activeSubscriptions[e].remove()}},{key:"destroy",value:function(){W.destroyClient(),null!=this._scanEventSubscription&&(this._scanEventSubscription.remove(),this._scanEventSubscription=null),this._destroySubscriptions(),this._destroyPromises()}},{key:"_nextUniqueID",value:function(){return this._uniqueId+=1,this._uniqueId.toString()}},{key:"_callPromise",value:function(){var e=R()((function*(e){var r=this,t=this._nextUniqueID();try{var i=new Promise((function(e,i){r._activePromises[t]=i})),n=yield Promise.race([i,e]);return delete this._activePromises[t],n}catch(o){throw delete this._activePromises[t],C(o.message,this._errorCodesToMessagesMapping)}}));return function(r){return e.apply(this,arguments)}}()},{key:"setLogLevel",value:function(e){W.setLogLevel(e)}},{key:"logLevel",value:function(){return this._callPromise(W.logLevel())}},{key:"cancelTransaction",value:function(e){W.cancelTransaction(e)}},{key:"enable",value:function(){var e=R()((function*(e){return e||(e=this._nextUniqueID()),yield this._callPromise(W.enable(e)),this}));return function(r){return e.apply(this,arguments)}}()},{key:"disable",value:function(){var e=R()((function*(e){return e||(e=this._nextUniqueID()),yield this._callPromise(W.disable(e)),this}));return function(r){return e.apply(this,arguments)}}()},{key:"state",value:function(){return this._callPromise(W.state())}},{key:"onStateChange",value:function(e){var r,t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._eventEmitter.addListener(W.StateChangeEvent,e),o=this._nextUniqueID();if(i){var s=!1;this._callPromise(this.state()).then((function(r){s||e(r)})),r={remove:function(){null!=t._activeSubscriptions[o]&&(s=!0,delete t._activeSubscriptions[o],n.remove())}}}else r={remove:function(){null!=t._activeSubscriptions[o]&&(delete t._activeSubscriptions[o],n.remove())}};return this._activeSubscriptions[o]=r,r}},{key:"startDeviceScan",value:function(e,r,t){var i=this;this.stopDeviceScan();this._scanEventSubscription=this._eventEmitter.addListener(W.ScanEvent,(function(e){var r=F()(e,2),n=r[0],o=r[1];t(n?C(n,i._errorCodesToMessagesMapping):null,o?new T(o,i):null)})),W.startDeviceScan(e,r)}},{key:"stopDeviceScan",value:function(){null!=this._scanEventSubscription&&(this._scanEventSubscription.remove(),this._scanEventSubscription=null),W.stopDeviceScan()}},{key:"requestConnectionPriorityForDevice",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.requestConnectionPriorityForDevice(e,r,t));return new T(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"readRSSIForDevice",value:function(){var e=R()((function*(e,r){r||(r=this._nextUniqueID());var t=yield this._callPromise(W.readRSSIForDevice(e,r));return new T(t,this)}));return function(r,t){return e.apply(this,arguments)}}()},{key:"requestMTUForDevice",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.requestMTUForDevice(e,r,t));return new T(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"devices",value:function(){var e=R()((function*(e){var r=this;return(yield this._callPromise(W.devices(e))).map((function(e){return new T(e,r)}))}));return function(r){return e.apply(this,arguments)}}()},{key:"connectedDevices",value:function(){var e=R()((function*(e){var r=this;return(yield this._callPromise(W.connectedDevices(e))).map((function(e){return new T(e,r)}))}));return function(r){return e.apply(this,arguments)}}()},{key:"connectToDevice",value:function(){var e=R()((function*(e,r){var t=yield this._callPromise(W.connectToDevice(e,r));return new T(t,this)}));return function(r,t){return e.apply(this,arguments)}}()},{key:"cancelDeviceConnection",value:function(){var e=R()((function*(e){var r=yield this._callPromise(W.cancelDeviceConnection(e));return new T(r,this)}));return function(r){return e.apply(this,arguments)}}()},{key:"onDeviceDisconnected",value:function(e,r){var t=this,i=this._eventEmitter.addListener(W.DisconnectionEvent,(function(i){var n=F()(i,2),o=n[0],s=n[1];e===s.id&&r(o?C(o,t._errorCodesToMessagesMapping):null,new T(s,t))})),n=this._nextUniqueID(),o={remove:function(){null!=t._activeSubscriptions[n]&&(delete t._activeSubscriptions[n],i.remove())}};return this._activeSubscriptions[n]=o,o}},{key:"isDeviceConnected",value:function(e){return this._callPromise(W.isDeviceConnected(e))}},{key:"discoverAllServicesAndCharacteristicsForDevice",value:function(){var e=R()((function*(e,r){r||(r=this._nextUniqueID());var t=yield this._callPromise(W.discoverAllServicesAndCharacteristicsForDevice(e,r));return new T(t,this)}));return function(r,t){return e.apply(this,arguments)}}()},{key:"servicesForDevice",value:function(){var e=R()((function*(e){var r=this;return(yield this._callPromise(W.servicesForDevice(e))).map((function(e){return new B(e,r)}))}));return function(r){return e.apply(this,arguments)}}()},{key:"characteristicsForDevice",value:function(e,r){return this._handleCharacteristics(W.characteristicsForDevice(e,r))}},{key:"_characteristicsForService",value:function(e){return this._handleCharacteristics(W.characteristicsForService(e))}},{key:"_handleCharacteristics",value:function(){var e=R()((function*(e){var r=this;return(yield this._callPromise(e)).map((function(e){return new N(e,r)}))}));return function(r){return e.apply(this,arguments)}}()},{key:"descriptorsForDevice",value:function(e,r,t){return this._handleDescriptors(W.descriptorsForDevice(e,r,t))}},{key:"_descriptorsForService",value:function(e,r){return this._handleDescriptors(W.descriptorsForService(e,r))}},{key:"_descriptorsForCharacteristic",value:function(e){return this._handleDescriptors(W.descriptorsForCharacteristic(e))}},{key:"_handleDescriptors",value:function(){var e=R()((function*(e){var r=this;return(yield this._callPromise(e)).map((function(e){return new x(e,r)}))}));return function(r){return e.apply(this,arguments)}}()},{key:"readCharacteristicForDevice",value:function(){var e=R()((function*(e,r,t,i){i||(i=this._nextUniqueID());var n=yield this._callPromise(W.readCharacteristicForDevice(e,r,t,i));return new N(n,this)}));return function(r,t,i,n){return e.apply(this,arguments)}}()},{key:"_readCharacteristicForService",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.readCharacteristicForService(e,r,t));return new N(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"_readCharacteristic",value:function(){var e=R()((function*(e,r){r||(r=this._nextUniqueID());var t=yield this._callPromise(W.readCharacteristic(e,r));return new N(t,this)}));return function(r,t){return e.apply(this,arguments)}}()},{key:"writeCharacteristicWithResponseForDevice",value:function(){var e=R()((function*(e,r,t,i,n){n||(n=this._nextUniqueID());var o=yield this._callPromise(W.writeCharacteristicForDevice(e,r,t,i,!0,n));return new N(o,this)}));return function(r,t,i,n,o){return e.apply(this,arguments)}}()},{key:"_writeCharacteristicWithResponseForService",value:function(){var e=R()((function*(e,r,t,i){i||(i=this._nextUniqueID());var n=yield this._callPromise(W.writeCharacteristicForService(e,r,t,!0,i));return new N(n,this)}));return function(r,t,i,n){return e.apply(this,arguments)}}()},{key:"_writeCharacteristicWithResponse",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.writeCharacteristic(e,r,!0,t));return new N(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"writeCharacteristicWithoutResponseForDevice",value:function(){var e=R()((function*(e,r,t,i,n){n||(n=this._nextUniqueID());var o=yield this._callPromise(W.writeCharacteristicForDevice(e,r,t,i,!1,n));return new N(o,this)}));return function(r,t,i,n,o){return e.apply(this,arguments)}}()},{key:"_writeCharacteristicWithoutResponseForService",value:function(){var e=R()((function*(e,r,t,i){i||(i=this._nextUniqueID());var n=yield this._callPromise(W.writeCharacteristicForService(e,r,t,!1,i));return new N(n,this)}));return function(r,t,i,n){return e.apply(this,arguments)}}()},{key:"_writeCharacteristicWithoutResponse",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.writeCharacteristic(e,r,!1,t));return new N(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"monitorCharacteristicForDevice",value:function(e,r,t,i,n){var o=n||this._nextUniqueID();return this._handleMonitorCharacteristic(W.monitorCharacteristicForDevice(e,r,t,o),o,i)}},{key:"_monitorCharacteristicForService",value:function(e,r,t,i){var n=i||this._nextUniqueID();return this._handleMonitorCharacteristic(W.monitorCharacteristicForService(e,r,n),n,t)}},{key:"_monitorCharacteristic",value:function(e,r,t){var i=t||this._nextUniqueID();return this._handleMonitorCharacteristic(W.monitorCharacteristic(e,i),i,r)}},{key:"_handleMonitorCharacteristic",value:function(e,r,t){var i=this,n=this._eventEmitter.addListener(W.ReadEvent,(function(e){var n=F()(e,3),o=n[0],s=n[1],c=n[2];r===c&&(o?t(C(o,i._errorCodesToMessagesMapping),null):t(null,new N(s,i)))})),o=this._nextUniqueID(),s={remove:function(){null!=i._activeSubscriptions[o]&&(delete i._activeSubscriptions[o],n.remove())}};return this._activeSubscriptions[o]=s,this._callPromise(e).then((function(){s.remove()}),(function(e){t(e,null),s.remove()})),{remove:function(){W.cancelTransaction(r)}}}},{key:"readDescriptorForDevice",value:function(){var e=R()((function*(e,r,t,i,n){n||(n=this._nextUniqueID());var o=yield this._callPromise(W.readDescriptorForDevice(e,r,t,i,n));return new x(o,this)}));return function(r,t,i,n,o){return e.apply(this,arguments)}}()},{key:"_readDescriptorForService",value:function(){var e=R()((function*(e,r,t,i){i||(i=this._nextUniqueID());var n=yield this._callPromise(W.readDescriptorForService(e,r,t,i));return new x(n,this)}));return function(r,t,i,n){return e.apply(this,arguments)}}()},{key:"_readDescriptorForCharacteristic",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.readDescriptorForCharacteristic(e,r,t));return new x(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()},{key:"_readDescriptor",value:function(){var e=R()((function*(e,r){r||(r=this._nextUniqueID());var t=yield this._callPromise(W.readDescriptor(e,r));return new x(t,this)}));return function(r,t){return e.apply(this,arguments)}}()},{key:"writeDescriptorForDevice",value:function(){var e=R()((function*(e,r,t,i,n,o){o||(o=this._nextUniqueID());var s=yield this._callPromise(W.writeDescriptorForDevice(e,r,t,i,n,o));return new x(s,this)}));return function(r,t,i,n,o,s){return e.apply(this,arguments)}}()},{key:"_writeDescriptorForService",value:function(){var e=R()((function*(e,r,t,i,n){n||(n=this._nextUniqueID());var o=yield this._callPromise(W.writeDescriptorForService(e,r,t,i,n));return new x(o,this)}));return function(r,t,i,n,o){return e.apply(this,arguments)}}()},{key:"_writeDescriptorForCharacteristic",value:function(){var e=R()((function*(e,r,t,i){i||(i=this._nextUniqueID());var n=yield this._callPromise(W.writeDescriptorForCharacteristic(e,r,t,i));return new x(n,this)}));return function(r,t,i,n){return e.apply(this,arguments)}}()},{key:"_writeDescriptor",value:function(){var e=R()((function*(e,r,t){t||(t=this._nextUniqueID());var i=yield this._callPromise(W.writeDescriptor(e,r,t));return new x(i,this)}));return function(r,t,i){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=3.e1f2aac7.chunk.js.map